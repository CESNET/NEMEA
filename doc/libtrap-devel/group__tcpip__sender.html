<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Libtrap: Internal development docs: TCPIP output IFC</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Libtrap: Internal development docs
   &#160;<span id="projectnumber">1.16.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">TCPIP output IFC<div class="ingroups"><a class="el" href="group__trap__ifc.html">TRAP communication module interface</a> &raquo; <a class="el" href="group__tcpip__ifc.html">TCP/IP and UNIX socket communication interface module</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for TCPIP output IFC:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__tcpip__sender.png" border="0" alt="" usemap="#group____tcpip____sender"/>
<map name="group____tcpip____sender" id="group____tcpip____sender">
<area shape="rect" id="node2" href="group__tcpip__ifc.html" title="TCP/IP and UNIX socket\l communication interface\l module" alt="" coords="5,5,176,61"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structclient__s.html">client_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for TCP/IP IFC client information.  <a href="structclient__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtcpip__sender__private__s.html">tcpip_sender_private_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for TCP/IP IFC private information.  <a href="structtcpip__sender__private__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga8db229da62af6e778b15d0dfeab62c2d"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structclient__s.html">client_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga8db229da62af6e778b15d0dfeab62c2d">client_t</a></td></tr>
<tr class="memdesc:ga8db229da62af6e778b15d0dfeab62c2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for TCP/IP IFC client information.  <a href="#ga8db229da62af6e778b15d0dfeab62c2d">More...</a><br /></td></tr>
<tr class="separator:ga8db229da62af6e778b15d0dfeab62c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45657b399741b8bd08cbfcef2ad490f1"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structtcpip__sender__private__s.html">tcpip_sender_private_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a></td></tr>
<tr class="memdesc:ga45657b399741b8bd08cbfcef2ad490f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for TCP/IP IFC private information.  <a href="#ga45657b399741b8bd08cbfcef2ad490f1">More...</a><br /></td></tr>
<tr class="separator:ga45657b399741b8bd08cbfcef2ad490f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad8033ef37f49bbe4b01b29a511f107a7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#gad8033ef37f49bbe4b01b29a511f107a7">disconnect_client</a> (<a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a> *priv, int cl_id)</td></tr>
<tr class="memdesc:gad8033ef37f49bbe4b01b29a511f107a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called when a client was/is being disconnected.  <a href="#gad8033ef37f49bbe4b01b29a511f107a7">More...</a><br /></td></tr>
<tr class="separator:gad8033ef37f49bbe4b01b29a511f107a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab09f65cfd346e2d795e09e7b3533e95a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#gab09f65cfd346e2d795e09e7b3533e95a">tcpip_server_disconnect_all_clients</a> (void *priv)</td></tr>
<tr class="memdesc:gab09f65cfd346e2d795e09e7b3533e95a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function disconnects all clients of the output interface whose private structure is passed via "priv" parameter.  <a href="#gab09f65cfd346e2d795e09e7b3533e95a">More...</a><br /></td></tr>
<tr class="separator:gab09f65cfd346e2d795e09e7b3533e95a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3a65816f2a41268758c569a7a368ff1"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#gad3a65816f2a41268758c569a7a368ff1">accept_clients_thread</a> (void *arg)</td></tr>
<tr class="memdesc:gad3a65816f2a41268758c569a7a368ff1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function runs in a separate thread and handles new client's connection requests.  <a href="#gad3a65816f2a41268758c569a7a368ff1">More...</a><br /></td></tr>
<tr class="separator:gad3a65816f2a41268758c569a7a368ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab869dcac96b4cbda388a9d40a35c5eb7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#gab869dcac96b4cbda388a9d40a35c5eb7">finish_buffer</a> (<a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a> *priv, <a class="el" href="ifc__socket__common_8h.html#a9aa12143b2c71bd60b9418ee7f4d3bb6">buffer_t</a> *buffer)</td></tr>
<tr class="memdesc:gab869dcac96b4cbda388a9d40a35c5eb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write buffer size to its header and shift active index.  <a href="#gab869dcac96b4cbda388a9d40a35c5eb7">More...</a><br /></td></tr>
<tr class="separator:gab869dcac96b4cbda388a9d40a35c5eb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga84f6fd9cc7f2ecb7f175f2149b6381a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga84f6fd9cc7f2ecb7f175f2149b6381a5">tcpip_sender_flush</a> (void *priv)</td></tr>
<tr class="memdesc:ga84f6fd9cc7f2ecb7f175f2149b6381a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force flush of active buffer.  <a href="#ga84f6fd9cc7f2ecb7f175f2149b6381a5">More...</a><br /></td></tr>
<tr class="separator:ga84f6fd9cc7f2ecb7f175f2149b6381a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c122c5ed90b47bd03fa9e22b18d5c82"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga1c122c5ed90b47bd03fa9e22b18d5c82">send_data</a> (<a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a> *priv, <a class="el" href="group__tcpip__sender.html#ga8db229da62af6e778b15d0dfeab62c2d">client_t</a> *c, uint32_t cl_id)</td></tr>
<tr class="memdesc:ga1c122c5ed90b47bd03fa9e22b18d5c82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data to client from his assigned buffer.  <a href="#ga1c122c5ed90b47bd03fa9e22b18d5c82">More...</a><br /></td></tr>
<tr class="separator:ga1c122c5ed90b47bd03fa9e22b18d5c82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga029de4ad961a1d3d89a52cbc5e3a10a0"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga029de4ad961a1d3d89a52cbc5e3a10a0">sending_thread_func</a> (void *priv)</td></tr>
<tr class="memdesc:ga029de4ad961a1d3d89a52cbc5e3a10a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function runs in a separate thread. It handles sending data to connected clients for TCPIP and UNIX interfaces.  <a href="#ga029de4ad961a1d3d89a52cbc5e3a10a0">More...</a><br /></td></tr>
<tr class="separator:ga029de4ad961a1d3d89a52cbc5e3a10a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4c778885040ccd9dafe56b1f9ecd355f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga4c778885040ccd9dafe56b1f9ecd355f">tcpip_sender_send</a> (void *priv, const void *<a class="el" href="trap__internal_8h.html#ac3c027f9a365f5741871df5ace13943f">data</a>, uint16_t size, int timeout)</td></tr>
<tr class="memdesc:ga4c778885040ccd9dafe56b1f9ecd355f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store message into buffer.  <a href="#ga4c778885040ccd9dafe56b1f9ecd355f">More...</a><br /></td></tr>
<tr class="separator:ga4c778885040ccd9dafe56b1f9ecd355f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b43746d012021fe6af3b6fde17d12c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga0b43746d012021fe6af3b6fde17d12c3">tcpip_sender_terminate</a> (void *priv)</td></tr>
<tr class="memdesc:ga0b43746d012021fe6af3b6fde17d12c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set interface state as terminated.  <a href="#ga0b43746d012021fe6af3b6fde17d12c3">More...</a><br /></td></tr>
<tr class="separator:ga0b43746d012021fe6af3b6fde17d12c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ad10441ac50af06112eee9db2047919"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga5ad10441ac50af06112eee9db2047919">tcpip_sender_destroy</a> (void *priv)</td></tr>
<tr class="memdesc:ga5ad10441ac50af06112eee9db2047919"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor of TCP sender (output ifc)  <a href="#ga5ad10441ac50af06112eee9db2047919">More...</a><br /></td></tr>
<tr class="separator:ga5ad10441ac50af06112eee9db2047919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d1beceb2af358ffb6116184e9f61026"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga3d1beceb2af358ffb6116184e9f61026">tcpip_sender_get_client_count</a> (void *priv)</td></tr>
<tr class="separator:ga3d1beceb2af358ffb6116184e9f61026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga610a2d03c2351110e984fc74c26356bf"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga610a2d03c2351110e984fc74c26356bf">tcpip_sender_get_client_stats_json</a> (void *priv, json_t *client_stats_arr)</td></tr>
<tr class="separator:ga610a2d03c2351110e984fc74c26356bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7cb4c51ce43d85a04c6406a17fc1fe0b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga7cb4c51ce43d85a04c6406a17fc1fe0b">tcpip_sender_create_dump</a> (void *priv, uint32_t idx, const char *path)</td></tr>
<tr class="separator:ga7cb4c51ce43d85a04c6406a17fc1fe0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90dbe211caa71064dd3c44b9eac5932a"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga90dbe211caa71064dd3c44b9eac5932a">tcpip_send_ifc_get_id</a> (void *priv)</td></tr>
<tr class="separator:ga90dbe211caa71064dd3c44b9eac5932a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19dfb1ff5fc8916e8c4bd1e0800bf9df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#ga19dfb1ff5fc8916e8c4bd1e0800bf9df">create_tcpip_sender_ifc</a> (<a class="el" href="group__debug.html#ga7c1820c9482b11ef772ed7ef95d4f7f0">trap_ctx_priv_t</a> *ctx, const char *params, <a class="el" href="group__trap__ifc.html#ga67931b1db8d9f47c96534b924252b370">trap_output_ifc_t</a> *ifc, uint32_t idx, enum <a class="el" href="ifc__tcpip_8h.html#a5893d62a74cf9d99455f8226678f68e6">tcpip_ifc_sockettype</a> type)</td></tr>
<tr class="memdesc:ga19dfb1ff5fc8916e8c4bd1e0800bf9df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor of output TCP/IP IFC module. This function is called by TRAP library to initialize one output interface.  <a href="#ga19dfb1ff5fc8916e8c4bd1e0800bf9df">More...</a><br /></td></tr>
<tr class="separator:ga19dfb1ff5fc8916e8c4bd1e0800bf9df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8253ffec1871584621b3dc838055d87"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tcpip__sender.html#gaf8253ffec1871584621b3dc838055d87">server_socket_open</a> (void *priv)</td></tr>
<tr class="memdesc:gaf8253ffec1871584621b3dc838055d87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open TCPIP socket for sender module.  <a href="#gaf8253ffec1871584621b3dc838055d87">More...</a><br /></td></tr>
<tr class="separator:gaf8253ffec1871584621b3dc838055d87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga8db229da62af6e778b15d0dfeab62c2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8db229da62af6e778b15d0dfeab62c2d">&#9670;&nbsp;</a></span>client_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structclient__s.html">client_s</a>  <a class="el" href="group__tcpip__sender.html#ga8db229da62af6e778b15d0dfeab62c2d">client_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Structure for TCP/IP IFC client information. </p>

</div>
</div>
<a id="ga45657b399741b8bd08cbfcef2ad490f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45657b399741b8bd08cbfcef2ad490f1">&#9670;&nbsp;</a></span>tcpip_sender_private_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtcpip__sender__private__s.html">tcpip_sender_private_s</a>  <a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Structure for TCP/IP IFC private information. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad3a65816f2a41268758c569a7a368ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad3a65816f2a41268758c569a7a368ff1">&#9670;&nbsp;</a></span>accept_clients_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* accept_clients_thread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function runs in a separate thread and handles new client's connection requests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>Pointer to interface's private data structure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01026">1026</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a id="ga19dfb1ff5fc8916e8c4bd1e0800bf9df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga19dfb1ff5fc8916e8c4bd1e0800bf9df">&#9670;&nbsp;</a></span>create_tcpip_sender_ifc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_tcpip_sender_ifc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__debug.html#ga7c1820c9482b11ef772ed7ef95d4f7f0">trap_ctx_priv_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__trap__ifc.html#ga67931b1db8d9f47c96534b924252b370">trap_output_ifc_t</a> *&#160;</td>
          <td class="paramname"><em>ifc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ifc__tcpip_8h.html#a5893d62a74cf9d99455f8226678f68e6">tcpip_ifc_sockettype</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor of output TCP/IP IFC module. This function is called by TRAP library to initialize one output interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>Pointer to the private libtrap context data (<a class="el" href="group__contextapi.html#gad63272a184d3a4f5a386bf10629f4266" title="Initialize and return the context of libtrap. ">trap_ctx_init()</a>). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>Configuration string containing interface specific parameters -<ul>
<li>tcp port/unix socket, max number of clients, buffer size, buffer count. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ifc</td><td>IFC interface used for calling TCP/IP module. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idx</td><td>Index of IFC that is created. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>select the type of socket (see <a class="el" href="ifc__tcpip_8h.html#a5893d62a74cf9d99455f8226678f68e6">tcpip_ifc_sockettype</a> for options) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success (TRAP_E_OK) </dd></dl>

<p class="definition">Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01730">1730</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a id="gad8033ef37f49bbe4b01b29a511f107a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad8033ef37f49bbe4b01b29a511f107a7">&#9670;&nbsp;</a></span>disconnect_client()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void disconnect_client </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a> *&#160;</td>
          <td class="paramname"><em>priv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cl_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is called when a client was/is being disconnected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>Pointer to interface's private data structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cl_id</td><td>Index of the client in 'clients' array. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l00982">982</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a id="gab869dcac96b4cbda388a9d40a35c5eb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab869dcac96b4cbda388a9d40a35c5eb7">&#9670;&nbsp;</a></span>finish_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void finish_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a> *&#160;</td>
          <td class="paramname"><em>priv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ifc__socket__common_8h.html#a9aa12143b2c71bd60b9418ee7f4d3bb6">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write buffer size to its header and shift active index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>Pointer to output interface private structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>Pointer to the buffer. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01144">1144</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a id="ga1c122c5ed90b47bd03fa9e22b18d5c82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1c122c5ed90b47bd03fa9e22b18d5c82">&#9670;&nbsp;</a></span>send_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int send_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__tcpip__sender.html#ga45657b399741b8bd08cbfcef2ad490f1">tcpip_sender_private_t</a> *&#160;</td>
          <td class="paramname"><em>priv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__tcpip__sender.html#ga8db229da62af6e778b15d0dfeab62c2d">client_t</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cl_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send data to client from his assigned buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>Pointer to iterface's private data structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">c</td><td>Pointer to the client's structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cl_id</td><td>Client's index in the 'clients' array.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRAP_E_OK successfully sent. </dd>
<dd>
TRAP_E_TERMINATED TRAP was terminated. </dd>
<dd>
TRAP_E_IO_ERROR send failed although TRAP was not terminated. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01190">1190</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a id="ga029de4ad961a1d3d89a52cbc5e3a10a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga029de4ad961a1d3d89a52cbc5e3a10a0">&#9670;&nbsp;</a></span>sending_thread_func()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* sending_thread_func </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function runs in a separate thread. It handles sending data to connected clients for TCPIP and UNIX interfaces. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>pointer to interface private data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01239">1239</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a id="gaf8253ffec1871584621b3dc838055d87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8253ffec1871584621b3dc838055d87">&#9670;&nbsp;</a></span>server_socket_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int server_socket_open </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open TCPIP socket for sender module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>tcpip_sender_private_t structure (private data) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success (TRAP_E_OK), TRAP_E_IO_ERROR on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01910">1910</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a id="ga90dbe211caa71064dd3c44b9eac5932a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga90dbe211caa71064dd3c44b9eac5932a">&#9670;&nbsp;</a></span>tcpip_send_ifc_get_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* tcpip_send_ifc_get_id </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01705">1705</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a id="ga7cb4c51ce43d85a04c6406a17fc1fe0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7cb4c51ce43d85a04c6406a17fc1fe0b">&#9670;&nbsp;</a></span>tcpip_sender_create_dump()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tcpip_sender_create_dump </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01654">1654</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a id="ga5ad10441ac50af06112eee9db2047919"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ad10441ac50af06112eee9db2047919">&#9670;&nbsp;</a></span>tcpip_sender_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tcpip_sender_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor of TCP sender (output ifc) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>pointer to module private data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01561">1561</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a id="ga84f6fd9cc7f2ecb7f175f2149b6381a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga84f6fd9cc7f2ecb7f175f2149b6381a5">&#9670;&nbsp;</a></span>tcpip_sender_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tcpip_sender_flush </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force flush of active buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>pointer to interface private data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01168">1168</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a id="ga3d1beceb2af358ffb6116184e9f61026"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d1beceb2af358ffb6116184e9f61026">&#9670;&nbsp;</a></span>tcpip_sender_get_client_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t tcpip_sender_get_client_count </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01616">1616</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a id="ga610a2d03c2351110e984fc74c26356bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga610a2d03c2351110e984fc74c26356bf">&#9670;&nbsp;</a></span>tcpip_sender_get_client_stats_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t tcpip_sender_get_client_stats_json </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_t *&#160;</td>
          <td class="paramname"><em>client_stats_arr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01627">1627</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a id="ga4c778885040ccd9dafe56b1f9ecd355f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4c778885040ccd9dafe56b1f9ecd355f">&#9670;&nbsp;</a></span>tcpip_sender_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcpip_sender_send </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store message into buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>pointer to module private data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>pointer to data to write </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of data to write </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>maximum time spent waiting for the message to be stored [microseconds]</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRAP_E_OK Success. </dd>
<dd>
TRAP_E_TIMEOUT Message was not stored into buffer and the attempt should be repeated. </dd>
<dd>
TRAP_E_TERMINATED Libtrap was terminated during the process. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01434">1434</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a id="ga0b43746d012021fe6af3b6fde17d12c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b43746d012021fe6af3b6fde17d12c3">&#9670;&nbsp;</a></span>tcpip_sender_terminate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tcpip_sender_terminate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set interface state as terminated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>pointer to module private data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01531">1531</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
<a id="gab09f65cfd346e2d795e09e7b3533e95a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab09f65cfd346e2d795e09e7b3533e95a">&#9670;&nbsp;</a></span>tcpip_server_disconnect_all_clients()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tcpip_server_disconnect_all_clients </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function disconnects all clients of the output interface whose private structure is passed via "priv" parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>Pointer to output interface private structure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ifc__tcpip_8c_source.html#l01009">1009</a> of file <a class="el" href="ifc__tcpip_8c_source.html">ifc_tcpip.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
