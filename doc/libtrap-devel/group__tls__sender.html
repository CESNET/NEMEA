<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Libtrap: Internal development docs: TLS Output IFC</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Libtrap: Internal development docs
   &#160;<span id="projectnumber">1.16.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">TLS Output IFC<div class="ingroups"><a class="el" href="group__trap__ifc.html">TRAP communication module interface</a> &raquo; <a class="el" href="group__tls__ifc.html">TLS communication interface module</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for TLS Output IFC:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__tls__sender.png" border="0" alt="" usemap="#group____tls____sender"/>
<map name="group____tls____sender" id="group____tls____sender">
<area shape="rect" id="node2" href="group__tls__ifc.html" title="TLS communication interface\l module" alt="" coords="5,5,199,47"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtlsclient__s.html">tlsclient_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for TLS IFC client information.  <a href="structtlsclient__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtls__sender__private__s.html">tls_sender_private_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for TLS IFC private information.  <a href="structtls__sender__private__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gab81355a0ad8e318125a88642ecd3544a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structtlsclient__s.html">tlsclient_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#gab81355a0ad8e318125a88642ecd3544a">tlsclient_t</a></td></tr>
<tr class="memdesc:gab81355a0ad8e318125a88642ecd3544a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for TLS IFC client information.  <a href="#gab81355a0ad8e318125a88642ecd3544a">More...</a><br /></td></tr>
<tr class="separator:gab81355a0ad8e318125a88642ecd3544a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07cc54970619735031e328a849dbbc83"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structtls__sender__private__s.html">tls_sender_private_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#ga07cc54970619735031e328a849dbbc83">tls_sender_private_t</a></td></tr>
<tr class="memdesc:ga07cc54970619735031e328a849dbbc83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for TLS IFC private information.  <a href="#ga07cc54970619735031e328a849dbbc83">More...</a><br /></td></tr>
<tr class="separator:ga07cc54970619735031e328a849dbbc83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga10574da0c956724741173a3fe5c8eea3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#ga10574da0c956724741173a3fe5c8eea3">disconnect_client</a> (<a class="el" href="group__tls__sender.html#ga07cc54970619735031e328a849dbbc83">tls_sender_private_t</a> *priv, int cl_id)</td></tr>
<tr class="memdesc:ga10574da0c956724741173a3fe5c8eea3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called when a client was/is being disconnected.  <a href="#ga10574da0c956724741173a3fe5c8eea3">More...</a><br /></td></tr>
<tr class="separator:ga10574da0c956724741173a3fe5c8eea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f5aa45f5c8641f9fd83159208d62647"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#ga3f5aa45f5c8641f9fd83159208d62647">tls_server_disconnect_all_clients</a> (void *priv)</td></tr>
<tr class="memdesc:ga3f5aa45f5c8641f9fd83159208d62647"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function disconnects all clients of the output interface whose private structure is passed via "priv" parameter.  <a href="#ga3f5aa45f5c8641f9fd83159208d62647">More...</a><br /></td></tr>
<tr class="separator:ga3f5aa45f5c8641f9fd83159208d62647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83472c2cd46eac526175b30d48495135"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#ga83472c2cd46eac526175b30d48495135">get_cur_timestamp</a> ()</td></tr>
<tr class="separator:ga83472c2cd46eac526175b30d48495135"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3a65816f2a41268758c569a7a368ff1"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#gad3a65816f2a41268758c569a7a368ff1">accept_clients_thread</a> (void *arg)</td></tr>
<tr class="memdesc:gad3a65816f2a41268758c569a7a368ff1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function runs in a separate thread and handles new client's connection requests.  <a href="#gad3a65816f2a41268758c569a7a368ff1">More...</a><br /></td></tr>
<tr class="separator:gad3a65816f2a41268758c569a7a368ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga329b6a3a0d0527736d44acfafd2be576"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#ga329b6a3a0d0527736d44acfafd2be576">finish_buffer</a> (<a class="el" href="group__tls__sender.html#ga07cc54970619735031e328a849dbbc83">tls_sender_private_t</a> *priv, <a class="el" href="ifc__socket__common_8h.html#a9aa12143b2c71bd60b9418ee7f4d3bb6">buffer_t</a> *buffer)</td></tr>
<tr class="memdesc:ga329b6a3a0d0527736d44acfafd2be576"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write buffer size to its header and shift active index.  <a href="#ga329b6a3a0d0527736d44acfafd2be576">More...</a><br /></td></tr>
<tr class="separator:ga329b6a3a0d0527736d44acfafd2be576"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7275190583a84764542fa8814ff0b4de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#ga7275190583a84764542fa8814ff0b4de">tls_sender_flush</a> (void *priv)</td></tr>
<tr class="memdesc:ga7275190583a84764542fa8814ff0b4de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force flush of active buffer.  <a href="#ga7275190583a84764542fa8814ff0b4de">More...</a><br /></td></tr>
<tr class="separator:ga7275190583a84764542fa8814ff0b4de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83aa590c182c7739d18df9f42fd90944"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#ga83aa590c182c7739d18df9f42fd90944">send_data</a> (<a class="el" href="group__tls__sender.html#ga07cc54970619735031e328a849dbbc83">tls_sender_private_t</a> *priv, <a class="el" href="group__tls__sender.html#gab81355a0ad8e318125a88642ecd3544a">tlsclient_t</a> *c, uint32_t cl_id)</td></tr>
<tr class="memdesc:ga83aa590c182c7739d18df9f42fd90944"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data to client from his assigned buffer.  <a href="#ga83aa590c182c7739d18df9f42fd90944">More...</a><br /></td></tr>
<tr class="separator:ga83aa590c182c7739d18df9f42fd90944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga029de4ad961a1d3d89a52cbc5e3a10a0"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#ga029de4ad961a1d3d89a52cbc5e3a10a0">sending_thread_func</a> (void *priv)</td></tr>
<tr class="memdesc:ga029de4ad961a1d3d89a52cbc5e3a10a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function runs in a separate thread. It handles sending data to connected clients for TLS interface.  <a href="#ga029de4ad961a1d3d89a52cbc5e3a10a0">More...</a><br /></td></tr>
<tr class="separator:ga029de4ad961a1d3d89a52cbc5e3a10a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67c0673f9a702036f37933840891192a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#ga67c0673f9a702036f37933840891192a">tls_sender_send</a> (void *priv, const void *<a class="el" href="trap__internal_8h.html#ac3c027f9a365f5741871df5ace13943f">data</a>, uint16_t size, int timeout)</td></tr>
<tr class="memdesc:ga67c0673f9a702036f37933840891192a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store message into buffer.  <a href="#ga67c0673f9a702036f37933840891192a">More...</a><br /></td></tr>
<tr class="separator:ga67c0673f9a702036f37933840891192a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3e0654a4636e0d138b15529aff51131"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#gad3e0654a4636e0d138b15529aff51131">tls_sender_terminate</a> (void *priv)</td></tr>
<tr class="memdesc:gad3e0654a4636e0d138b15529aff51131"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set interface state as terminated.  <a href="#gad3e0654a4636e0d138b15529aff51131">More...</a><br /></td></tr>
<tr class="separator:gad3e0654a4636e0d138b15529aff51131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab89480d7e111593867b3d31b8fd7af97"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#gab89480d7e111593867b3d31b8fd7af97">tls_sender_destroy</a> (void *priv)</td></tr>
<tr class="memdesc:gab89480d7e111593867b3d31b8fd7af97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor of TCP sender (output ifc)  <a href="#gab89480d7e111593867b3d31b8fd7af97">More...</a><br /></td></tr>
<tr class="separator:gab89480d7e111593867b3d31b8fd7af97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga917b981d1bafb671093a40c0216e07fa"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#ga917b981d1bafb671093a40c0216e07fa">tls_sender_get_client_count</a> (void *priv)</td></tr>
<tr class="separator:ga917b981d1bafb671093a40c0216e07fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga523e71d675979d48e01a634ef54d652d"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#ga523e71d675979d48e01a634ef54d652d">tls_sender_get_client_stats_json</a> (void *priv, json_t *client_stats_arr)</td></tr>
<tr class="separator:ga523e71d675979d48e01a634ef54d652d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a5c96daa3b31f978960c4a6e7254dc0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#ga6a5c96daa3b31f978960c4a6e7254dc0">tls_sender_create_dump</a> (void *priv, uint32_t idx, const char *path)</td></tr>
<tr class="separator:ga6a5c96daa3b31f978960c4a6e7254dc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa359345fa6728d47aa48b8d8510cbfa1"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#gaa359345fa6728d47aa48b8d8510cbfa1">tls_send_ifc_get_id</a> (void *priv)</td></tr>
<tr class="separator:gaa359345fa6728d47aa48b8d8510cbfa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70f857962c64531165db580c0820f9d7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#ga70f857962c64531165db580c0820f9d7">create_tls_sender_ifc</a> (<a class="el" href="group__debug.html#ga7c1820c9482b11ef772ed7ef95d4f7f0">trap_ctx_priv_t</a> *ctx, const char *params, <a class="el" href="group__trap__ifc.html#ga67931b1db8d9f47c96534b924252b370">trap_output_ifc_t</a> *ifc, uint32_t idx)</td></tr>
<tr class="memdesc:ga70f857962c64531165db580c0820f9d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor of output TCP/IP IFC module. This function is called by TRAP library to initialize one output interface.  <a href="#ga70f857962c64531165db580c0820f9d7">More...</a><br /></td></tr>
<tr class="separator:ga70f857962c64531165db580c0820f9d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8253ffec1871584621b3dc838055d87"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tls__sender.html#gaf8253ffec1871584621b3dc838055d87">server_socket_open</a> (void *priv)</td></tr>
<tr class="memdesc:gaf8253ffec1871584621b3dc838055d87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open TLS socket for sender module.  <a href="#gaf8253ffec1871584621b3dc838055d87">More...</a><br /></td></tr>
<tr class="separator:gaf8253ffec1871584621b3dc838055d87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga07cc54970619735031e328a849dbbc83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga07cc54970619735031e328a849dbbc83">&#9670;&nbsp;</a></span>tls_sender_private_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtls__sender__private__s.html">tls_sender_private_s</a>  <a class="el" href="group__tls__sender.html#ga07cc54970619735031e328a849dbbc83">tls_sender_private_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Structure for TLS IFC private information. </p>

</div>
</div>
<a id="gab81355a0ad8e318125a88642ecd3544a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab81355a0ad8e318125a88642ecd3544a">&#9670;&nbsp;</a></span>tlsclient_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtlsclient__s.html">tlsclient_s</a>  <a class="el" href="group__tls__sender.html#gab81355a0ad8e318125a88642ecd3544a">tlsclient_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Structure for TLS IFC client information. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad3a65816f2a41268758c569a7a368ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad3a65816f2a41268758c569a7a368ff1">&#9670;&nbsp;</a></span>accept_clients_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* accept_clients_thread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function runs in a separate thread and handles new client's connection requests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>Pointer to interface's private data structure. </td></tr>
  </table>
  </dd>
</dl>
<p>Verifying SSL certificate of client. </p>

<p class="definition">Definition at line <a class="el" href="ifc__tls_8c_source.html#l01200">1200</a> of file <a class="el" href="ifc__tls_8c_source.html">ifc_tls.c</a>.</p>

</div>
</div>
<a id="ga70f857962c64531165db580c0820f9d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga70f857962c64531165db580c0820f9d7">&#9670;&nbsp;</a></span>create_tls_sender_ifc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_tls_sender_ifc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__debug.html#ga7c1820c9482b11ef772ed7ef95d4f7f0">trap_ctx_priv_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__trap__ifc.html#ga67931b1db8d9f47c96534b924252b370">trap_output_ifc_t</a> *&#160;</td>
          <td class="paramname"><em>ifc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor of output TCP/IP IFC module. This function is called by TRAP library to initialize one output interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>Pointer to the private libtrap context data (<a class="el" href="group__contextapi.html#gad63272a184d3a4f5a386bf10629f4266" title="Initialize and return the context of libtrap. ">trap_ctx_init()</a>). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>Configuration string containing space separated values of these parameters (in this exact order): <em>server_port</em> <em>max_clients</em>, where dest_addr is destination address of output TCP/IP IFC module and dest_port is the port where sender is listening. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ifc</td><td>IFC interface used for calling TCP/IP module. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idx</td><td>Index of IFC that is created. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success (TRAP_E_OK) </dd></dl>

<p class="definition">Definition at line <a class="el" href="ifc__tls_8c_source.html#l01883">1883</a> of file <a class="el" href="ifc__tls_8c_source.html">ifc_tls.c</a>.</p>

</div>
</div>
<a id="ga10574da0c956724741173a3fe5c8eea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga10574da0c956724741173a3fe5c8eea3">&#9670;&nbsp;</a></span>disconnect_client()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void disconnect_client </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__tls__sender.html#ga07cc54970619735031e328a849dbbc83">tls_sender_private_t</a> *&#160;</td>
          <td class="paramname"><em>priv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cl_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is called when a client was/is being disconnected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>Pointer to interface's private data structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cl_id</td><td>Index of the client in 'clients' array. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ifc__tls_8c_source.html#l01139">1139</a> of file <a class="el" href="ifc__tls_8c_source.html">ifc_tls.c</a>.</p>

</div>
</div>
<a id="ga329b6a3a0d0527736d44acfafd2be576"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga329b6a3a0d0527736d44acfafd2be576">&#9670;&nbsp;</a></span>finish_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void finish_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__tls__sender.html#ga07cc54970619735031e328a849dbbc83">tls_sender_private_t</a> *&#160;</td>
          <td class="paramname"><em>priv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ifc__socket__common_8h.html#a9aa12143b2c71bd60b9418ee7f4d3bb6">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write buffer size to its header and shift active index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>Pointer to output interface private structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>Pointer to the buffer. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ifc__tls_8c_source.html#l01334">1334</a> of file <a class="el" href="ifc__tls_8c_source.html">ifc_tls.c</a>.</p>

</div>
</div>
<a id="ga83472c2cd46eac526175b30d48495135"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83472c2cd46eac526175b30d48495135">&#9670;&nbsp;</a></span>get_cur_timestamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t get_cur_timestamp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return current time in microseconds.</p>
<p>This is used to get current timestamp in <a class="el" href="group__tls__sender.html#ga67c0673f9a702036f37933840891192a" title="Store message into buffer. ">tls_sender_send()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>current timestamp </dd></dl>

<p class="definition">Definition at line <a class="el" href="ifc__tls_8c_source.html#l01186">1186</a> of file <a class="el" href="ifc__tls_8c_source.html">ifc_tls.c</a>.</p>

</div>
</div>
<a id="ga83aa590c182c7739d18df9f42fd90944"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83aa590c182c7739d18df9f42fd90944">&#9670;&nbsp;</a></span>send_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int send_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__tls__sender.html#ga07cc54970619735031e328a849dbbc83">tls_sender_private_t</a> *&#160;</td>
          <td class="paramname"><em>priv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__tls__sender.html#gab81355a0ad8e318125a88642ecd3544a">tlsclient_t</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cl_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send data to client from his assigned buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>Pointer to iterface's private data structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">c</td><td>Pointer to the client's structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cl_id</td><td>Client's index in the 'clients' array.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRAP_E_OK successfully sent. </dd>
<dd>
TRAP_E_TERMINATED TRAP was terminated. </dd>
<dd>
TRAP_E_IO_ERROR send failed although TRAP was not terminated. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ifc__tls_8c_source.html#l01385">1385</a> of file <a class="el" href="ifc__tls_8c_source.html">ifc_tls.c</a>.</p>

</div>
</div>
<a id="ga029de4ad961a1d3d89a52cbc5e3a10a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga029de4ad961a1d3d89a52cbc5e3a10a0">&#9670;&nbsp;</a></span>sending_thread_func()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* sending_thread_func </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function runs in a separate thread. It handles sending data to connected clients for TLS interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>pointer to interface private data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ifc__tls_8c_source.html#l01434">1434</a> of file <a class="el" href="ifc__tls_8c_source.html">ifc_tls.c</a>.</p>

</div>
</div>
<a id="gaf8253ffec1871584621b3dc838055d87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8253ffec1871584621b3dc838055d87">&#9670;&nbsp;</a></span>server_socket_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int server_socket_open </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open TLS socket for sender module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>tls_sender_private_t structure (private data) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success (TRAP_E_OK), TRAP_E_IO_ERROR on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="ifc__tls_8c_source.html#l02091">2091</a> of file <a class="el" href="ifc__tls_8c_source.html">ifc_tls.c</a>.</p>

</div>
</div>
<a id="gaa359345fa6728d47aa48b8d8510cbfa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa359345fa6728d47aa48b8d8510cbfa1">&#9670;&nbsp;</a></span>tls_send_ifc_get_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* tls_send_ifc_get_id </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ifc__tls_8c_source.html#l01858">1858</a> of file <a class="el" href="ifc__tls_8c_source.html">ifc_tls.c</a>.</p>

</div>
</div>
<a id="ga6a5c96daa3b31f978960c4a6e7254dc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6a5c96daa3b31f978960c4a6e7254dc0">&#9670;&nbsp;</a></span>tls_sender_create_dump()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tls_sender_create_dump </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ifc__tls_8c_source.html#l01809">1809</a> of file <a class="el" href="ifc__tls_8c_source.html">ifc_tls.c</a>.</p>

</div>
</div>
<a id="gab89480d7e111593867b3d31b8fd7af97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab89480d7e111593867b3d31b8fd7af97">&#9670;&nbsp;</a></span>tls_sender_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tls_sender_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor of TCP sender (output ifc) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>pointer to module private data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ifc__tls_8c_source.html#l01727">1727</a> of file <a class="el" href="ifc__tls_8c_source.html">ifc_tls.c</a>.</p>

</div>
</div>
<a id="ga7275190583a84764542fa8814ff0b4de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7275190583a84764542fa8814ff0b4de">&#9670;&nbsp;</a></span>tls_sender_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tls_sender_flush </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force flush of active buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>pointer to interface private data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ifc__tls_8c_source.html#l01358">1358</a> of file <a class="el" href="ifc__tls_8c_source.html">ifc_tls.c</a>.</p>

</div>
</div>
<a id="ga917b981d1bafb671093a40c0216e07fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga917b981d1bafb671093a40c0216e07fa">&#9670;&nbsp;</a></span>tls_sender_get_client_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t tls_sender_get_client_count </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ifc__tls_8c_source.html#l01771">1771</a> of file <a class="el" href="ifc__tls_8c_source.html">ifc_tls.c</a>.</p>

</div>
</div>
<a id="ga523e71d675979d48e01a634ef54d652d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga523e71d675979d48e01a634ef54d652d">&#9670;&nbsp;</a></span>tls_sender_get_client_stats_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t tls_sender_get_client_stats_json </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_t *&#160;</td>
          <td class="paramname"><em>client_stats_arr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ifc__tls_8c_source.html#l01782">1782</a> of file <a class="el" href="ifc__tls_8c_source.html">ifc_tls.c</a>.</p>

</div>
</div>
<a id="ga67c0673f9a702036f37933840891192a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga67c0673f9a702036f37933840891192a">&#9670;&nbsp;</a></span>tls_sender_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tls_sender_send </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store message into buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>pointer to module private data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>pointer to data to write </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of data to write </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>maximum time spent waiting for the message to be stored [microseconds]</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRAP_E_OK Success. </dd>
<dd>
TRAP_E_TIMEOUT Message was not stored into buffer and the attempt should be repeated. </dd>
<dd>
TRAP_E_TERMINATED Libtrap was terminated during the process. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ifc__tls_8c_source.html#l01600">1600</a> of file <a class="el" href="ifc__tls_8c_source.html">ifc_tls.c</a>.</p>

</div>
</div>
<a id="gad3e0654a4636e0d138b15529aff51131"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad3e0654a4636e0d138b15529aff51131">&#9670;&nbsp;</a></span>tls_sender_terminate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tls_sender_terminate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set interface state as terminated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>pointer to module private data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ifc__tls_8c_source.html#l01697">1697</a> of file <a class="el" href="ifc__tls_8c_source.html">ifc_tls.c</a>.</p>

</div>
</div>
<a id="ga3f5aa45f5c8641f9fd83159208d62647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3f5aa45f5c8641f9fd83159208d62647">&#9670;&nbsp;</a></span>tls_server_disconnect_all_clients()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tls_server_disconnect_all_clients </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function disconnects all clients of the output interface whose private structure is passed via "priv" parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">priv</td><td>Pointer to output interface private structure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ifc__tls_8c_source.html#l01167">1167</a> of file <a class="el" href="ifc__tls_8c_source.html">ifc_tls.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
